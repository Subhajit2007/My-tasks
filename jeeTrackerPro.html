<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEE Mains Syllabus Tracker</title>
    <style>
        :root {
            --primary: #2563eb;
            --success: #10b981;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --border: #e2e8f0;
            --phys-color: #3b82f6;
            --chem-color: #10b981;
            --math-color: #ef4444;
            --timer-color: #8b5cf6; /* Purple for timer */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', system-ui, sans-serif; }
        
        body { background: var(--bg); color: var(--text); padding-bottom: 50px; }

        /* HEADER */
        header {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }
        
        h1 { margin-bottom: 0.5rem; font-size: 2rem; }
        .subtitle { opacity: 0.8; font-size: 0.9rem; }

        /* CONTAINER */
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }

        /* DASHBOARD (Progress Bars) */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            margin-top: -30px;
        }

        .stat-card {
            background: var(--card);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            text-align: center;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .stat-val { font-size: 1.5rem; font-weight: bold; display: block; margin-bottom: 5px; }
        .stat-label { font-size: 0.85rem; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px; }
        
        /* Specific style for countdown text */
        .countdown-val {
            font-size: 1.1rem; /* Slightly smaller to fit "Days" */
            font-family: monospace; /* Monospace for steady numbers */
            font-weight: bold;
            color: var(--timer-color);
            margin-bottom: 5px;
        }

        .progress-circle {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-top: 10px;
            overflow: hidden;
        }
        .progress-fill { height: 100%; width: 0%; transition: width 0.5s ease; }

        /* TABS */
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 5px; }
        .tab-btn {
            padding: 10px 20px;
            border: none;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: #64748b;
            transition: all 0.2s;
            flex-shrink: 0;
            border: 1px solid transparent;
        }
        .tab-btn.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(37,99,235,0.3); }
        .tab-btn:hover:not(.active) { background: #e2e8f0; }

        /* SYLLABUS LIST */
        .syllabus-section { display: none; }
        .syllabus-section.active { display: block; }

        .chapter {
            background: var(--card);
            margin-bottom: 15px;
            border-radius: 10px;
            border: 1px solid var(--border);
            overflow: hidden;
        }

        .chapter-header {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: white;
            transition: background 0.2s;
        }
        .chapter-header:hover { background: #f8fafc; }
        
        .chapter-title { font-weight: 600; font-size: 1.05rem; }
        .chapter-progress { font-size: 0.8rem; color: #64748b; background: #f1f5f9; padding: 4px 8px; border-radius: 4px; }

        .topic-list {
            padding: 0;
            list-style: none;
            display: none; /* Hidden by default */
            border-top: 1px solid var(--border);
        }
        .chapter.open .topic-list { display: block; }
        
        .topic-item {
            padding: 12px 20px;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            flex-wrap: wrap;
        }
        .topic-item:last-child { border-bottom: none; }
        
        .topic-label { 
            cursor: default; 
            flex: 1; 
            font-size: 0.95rem; 
            min-width: 150px;
        }

        /* 3-CHECKBOX GROUP STYLING */
        .task-group {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .task-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            gap: 4px;
        }

        .task-text {
            font-size: 0.7rem;
            text-transform: uppercase;
            color: #94a3b8;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--success);
        }
        
        .topic-item.fully-done .topic-label {
             text-decoration: line-through; 
             color: #94a3b8; 
        }

        /* UTILS */
        .badge {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        /* RESPONSIVE */
        @media (max-width: 600px) {
            .dashboard { grid-template-columns: 1fr 1fr; }
            .stat-card:first-child { grid-column: 1 / -1; } /* Total full width */
            .stat-card:nth-child(5) { grid-column: 1 / -1; } /* Timer full width on mobile */
            h1 { font-size: 1.5rem; }
            .topic-item { align-items: flex-start; }
            .task-group { margin-top: 5px; align-self: flex-end; }
        }
    </style>
</head>
<body>

    <header>
        <h1>JEE Mains Tracker</h1>
        <p class="subtitle">Theory • Questions • Revision</p>
    </header>

    <div class="container">
        <div class="dashboard">
            <!-- 1. Total -->
            <div class="stat-card">
                <span class="stat-val" id="totalProgress">0%</span>
                <span class="stat-label">Total Completion</span>
                <div class="progress-circle"><div class="progress-fill" id="totalBar" style="background: var(--text)"></div></div>
            </div>
            <!-- 2. Physics -->
            <div class="stat-card">
                <span class="stat-val" id="physProgress" style="color: var(--phys-color)">0%</span>
                <span class="stat-label">Physics</span>
                <div class="progress-circle"><div class="progress-fill" id="physBar" style="background: var(--phys-color)"></div></div>
            </div>
            <!-- 3. Chemistry -->
            <div class="stat-card">
                <span class="stat-val" id="chemProgress" style="color: var(--chem-color)">0%</span>
                <span class="stat-label">Chemistry</span>
                <div class="progress-circle"><div class="progress-fill" id="chemBar" style="background: var(--chem-color)"></div></div>
            </div>
            <!-- 4. Maths -->
            <div class="stat-card">
                <span class="stat-val" id="mathProgress" style="color: var(--math-color)">0%</span>
                <span class="stat-label">Maths</span>
                <div class="progress-circle"><div class="progress-fill" id="mathBar" style="background: var(--math-color)"></div></div>
            </div>
            <!-- 5. Countdown (New) -->
            <div class="stat-card">
                <span class="countdown-val" id="countdownTimer">Loading...</span>
                <span class="stat-label">JEE Mains 2027</span>
                <div class="progress-circle" style="background: transparent;"></div> <!-- Spacer -->
            </div>
        </div>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('physics')">Physics</button>
            <button class="tab-btn" onclick="switchTab('chemistry')">Chemistry</button>
            <button class="tab-btn" onclick="switchTab('maths')">Mathematics</button>
        </div>

        <div id="content-area"></div>
    </div>

    <script>
        // --- DATA: UPDATED JEE MAINS SYLLABUS ---
        const syllabusData = {
            physics: [
                { title: "Units and Measurements", topics: ["SI Units & Dimensions", "Errors in Measurement", "Vernier Calipers & Screw Gauge"] },
                { title: "Kinematics", topics: ["Motion in a Straight Line", "Motion in a Plane", "Projectile Motion", "Relative Velocity"] },
                { title: "Laws of Motion", topics: ["Newton's Laws", "Friction", "Circular Motion"] },
                { title: "Work, Energy and Power", topics: ["Work-Energy Theorem", "Potential Energy", "Conservation of Mechanical Energy", "Collisions"] },
                { title: "Rotational Motion", topics: ["Center of Mass", "Moment of Inertia", "Torque & Angular Momentum", "Rolling Motion"] },
                { title: "Gravitation", topics: ["Kepler's Laws", "Acceleration due to Gravity", "Escape Velocity", "Satellites"] },
                { title: "Properties of Solids & Liquids", topics: ["Elasticity (Young's Modulus)", "Viscosity & Terminal Velocity", "Surface Tension", "Bernoulli's Principle"] },
                { title: "Thermodynamics", topics: ["Laws of Thermodynamics", "Isothermal & Adiabatic Processes", "Heat Engines (Efficiency)"] },
                { title: "Kinetic Theory of Gases", topics: ["Ideal Gas Equation", "Degrees of Freedom", "RMS Speed"] },
                { title: "Oscillations and Waves", topics: ["SHM Equations", "Simple Pendulum", "Sound Waves & Doppler Effect", "Beats & Standing Waves"] },
                { title: "Electrostatics", topics: ["Coulomb's Law", "Electric Field & Potential", "Flux & Gauss's Law", "Capacitors & Dielectrics"] },
                { title: "Current Electricity", topics: ["Ohm's Law & Drift Velocity", "Kirchhoff's Laws", "Series/Parallel Resistors", "Potentiometer & Meter Bridge"] },
                { title: "Magnetic Effects of Current", topics: ["Biot-Savart Law", "Ampere's Law", "Force on Moving Charge", "Galvanometer to Ammeter/Voltmeter"] },
                { title: "EMI and AC", topics: ["Faraday's & Lenz's Law", "Self & Mutual Induction", "LCR Circuits & Resonance", "Transformers"] },
                { title: "Electromagnetic Waves", topics: ["EM Spectrum", "Properties of EM Waves"] },
                { title: "Optics", topics: ["Reflection & Refraction", "Lens Maker's Formula", "Prisms", "Young's Double Slit Experiment", "Diffraction", "Optical Instruments"] },
                { title: "Dual Nature of Matter", topics: ["Photoelectric Effect", "de-Broglie Hypothesis"] },
                { title: "Atoms and Nuclei", topics: ["Bohr's Model", "Radioactive Decay Law", "Mass-Energy Equivalence"] },
                { title: "Electronic Devices", topics: ["Semiconductors (Si, Ge)", "p-n Junction Diode", "I-V Characteristics", "Zener Diode", "Logic Gates"] }
            ],
            chemistry: [
                { title: "Physical: Basic Concepts", topics: ["Mole Concept", "Stoichiometry", "Concentration Terms"] },
                { title: "Physical: Atomic Structure", topics: ["Bohr's Model", "Quantum Numbers", "Electronic Config"] },
                { title: "Physical: Chemical Bonding", topics: ["VSEPR Theory", "Hybridization", "MOT (Molecular Orbital Theory)", "Hydrogen Bonding"] },
                { title: "Physical: Thermodynamics", topics: ["First Law", "Enthalpy & Entropy", "Gibbs Free Energy"] },
                { title: "Physical: Solutions", topics: ["Raoult's Law", "Colligative Properties", "Van't Hoff Factor"] },
                { title: "Physical: Equilibrium", topics: ["Le Chatelier's Principle", "pH & Buffer Solutions", "Solubility Product (Ksp)"] },
                { title: "Physical: Redox & Electrochemistry", topics: ["Nernst Equation", "Conductance", "Kohlrausch Law", "Batteries & Fuel Cells"] },
                { title: "Physical: Chemical Kinetics", topics: ["Rate Law & Order", "Integrated Rate Equations", "Arrhenius Equation"] },
                { title: "Inorganic: Periodicity", topics: ["Modern Periodic Law", "Trends in Properties (Radius, IE, EA)"] },
                { title: "Inorganic: p-Block Elements", topics: ["Group 13-18 Trends", "Allotropes of Carbon/Phosphorus/Sulfur", "Compounds of Nitrogen & Halogens"] },
                { title: "Inorganic: d and f Block", topics: ["Transition Elements Properties", "Lanthanoids & Actinoids", "KMnO4 & K2Cr2O7"] },
                { title: "Inorganic: Coordination Compounds", topics: ["IUPAC Nomenclature", "Isomerism", "Valence Bond Theory", "Crystal Field Theory"] },
                { title: "Organic: Basics & Hydrocarbons", topics: ["IUPAC Naming", "Isomerism", "Inductive/Resonance Effects", "Alkanes, Alkenes, Alkynes"] },
                { title: "Organic: Haloalkanes & Haloarenes", topics: ["SN1 & SN2 Mechanisms", "Grignard Reagent"] },
                { title: "Organic: Oxygen Containing", topics: ["Alcohols: Preparation & Reactions", "Phenols: Acidity & Reimer-Tiemann", "Ethers", "Aldehydes & Ketones (Nucleophilic addn)", "Carboxylic Acids"] },
                { title: "Organic: Nitrogen Containing", topics: ["Amines: Basicity", "Diazonium Salts", "Biomolecules (Carbs, Proteins, Vitamins, Nucleic Acids)"] },
                { title: "Organic: Practical Chemistry", topics: ["Qualitative Analysis (Salt Analysis)", "Detection of Elements in Organic Compounds"] }
            ],
            maths: [
                { title: "Sets, Relations & Functions", topics: ["Types of Relations", "Domain & Range", "Inverse Functions", "Composition"] },
                { title: "Complex Numbers", topics: ["Algebra of Complex Numbers", "Modulus & Argument", "Quadratic Equations"] },
                { title: "Matrices & Determinants", topics: ["Properties of Determinants", "Inverse & Adjoint", "System of Linear Equations"] },
                { title: "Permutations & Combinations", topics: ["Fundamental Principle of Counting", "nPr and nCr", "Circular Permutation"] },
                { title: "Binomial Theorem", topics: ["General Term", "Coefficients Properties"] },
                { title: "Sequence & Series", topics: ["AP, GP, HP", "AM-GM Inequality", "Special Series"] },
                { title: "Limits, Continuity & Differentiability", topics: ["Standard Limits", "L'Hospital Rule", "Continuity Checks", "Differentiation Methods"] },
                { title: "Applications of Derivatives", topics: ["Tangents & Normals", "Increasing/Decreasing", "Maxima & Minima"] },
                { title: "Integral Calculus", topics: ["Indefinite Integration Methods", "Definite Integral Properties", "Area under Curves"] },
                { title: "Differential Equations", topics: ["Order & Degree", "Variable Separable", "Linear Differential Equations"] },
                { title: "Coordinate Geometry", topics: ["Straight Lines", "Circles", "Parabola", "Ellipse", "Hyperbola"] },
                { title: "3D Geometry & Vectors", topics: ["Dot & Cross Product", "Direction Cosines/Ratios", "Equation of Lines"] },
                { title: "Statistics & Probability", topics: ["Mean, Variance, SD", "Bayes Theorem", "Bernoulli Trials"] },
                { title: "Trigonometry", topics: ["Identities", "Trigonometric Equations", "Inverse Trigonometric Functions"] }
            ]
        };

        // --- APP STATE ---
        const contentArea = document.getElementById('content-area');
        let progressData = {};

        try {
            const stored = localStorage.getItem('jeeProgress');
            if (stored) progressData = JSON.parse(stored);
        } catch(e) {
            console.error("Storage error", e);
            progressData = {};
        }

        // --- INITIALIZATION ---
        function init() {
            switchTab('physics'); // Default tab
            updateStats();
            startCountdown();
        }

        // --- COUNTDOWN TIMER ---
        function startCountdown() {
            // Target Date: JEE Mains 2027 (Tentative: Jan 24, 2027)
            const targetDate = new Date("January 24, 2027 09:00:00").getTime();

            const timerEl = document.getElementById('countdownTimer');

            setInterval(() => {
                const now = new Date().getTime();
                const distance = targetDate - now;

                if (distance < 0) {
                    timerEl.innerText = "EXAM STARTED";
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                // Format numbers to always have 2 digits (e.g., 05s instead of 5s)
                const d = days; // Days can be 3 digits
                const h = hours < 10 ? "0" + hours : hours;
                const m = minutes < 10 ? "0" + minutes : minutes;
                const s = seconds < 10 ? "0" + seconds : seconds;

                timerEl.innerText = `${d}d ${h}h ${m}m ${s}s`;
            }, 1000);
        }

        // --- RENDER FUNCTIONS ---
        function switchTab(subject) {
            // Update Tab UI
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.innerText.toLowerCase().includes(subject === 'maths' ? 'math' : subject)) {
                    btn.classList.add('active');
                }
            });

            // Render Content
            contentArea.innerHTML = '';
            const chapters = syllabusData[subject];
            
            chapters.forEach((chapter, index) => {
                const chapterId = `${subject}_c${index}`;
                
                // Calculate chapter progress (Units of 3 now)
                let completedUnits = 0;
                let totalUnits = chapter.topics.length * 3;

                chapter.topics.forEach((topic, tIndex) => {
                    const tid = `${chapterId}_t${tIndex}`;
                    if (progressData[`${tid}_th`]) completedUnits++;
                    if (progressData[`${tid}_qu`]) completedUnits++;
                    if (progressData[`${tid}_rv`]) completedUnits++;
                });

                const percent = totalUnits === 0 ? 0 : Math.round((completedUnits / totalUnits) * 100);

                // Create Elements
                const chapterDiv = document.createElement('div');
                chapterDiv.className = 'chapter';
                chapterDiv.id = `chap_${chapterId}`; // Add ID for easier selection later
                
                const header = document.createElement('div');
                header.className = 'chapter-header';
                header.innerHTML = `
                    <span class="chapter-title"><span class="badge" style="background:${getSubjectColor(subject)}"></span>${chapter.title}</span>
                    <span class="chapter-progress">${percent}%</span>
                `;
         